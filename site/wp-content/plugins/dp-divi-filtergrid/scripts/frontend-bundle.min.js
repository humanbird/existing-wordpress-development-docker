!function(t){var a={};function d(i){if(a[i])return a[i].exports;var e=a[i]={i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,d),e.l=!0,e.exports}d.m=t,d.c=a,d.d=function(t,a,i){d.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:i})},d.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return d.d(a,"a",a),a},d.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},d.p="/",d(d.s=19)}([,function(t,a){},,function(t,a){},function(t,a){},function(t,a){},function(t,a){},,,,,,,,,,,,,function(t,a,d){d(1),d(4),d(6),d(5),d(3),t.exports=d(20)},function(t,a){function d(t){return function(t){if(Array.isArray(t)){for(var a=0,d=new Array(t.length);a<t.length;a++)d[a]=t[a];return d}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"use strict";var a=!1;void 0!==window.et_builder_utils_params?["vb","bfb","tb","lbb"].forEach(function(t){t===window.et_builder_utils_params.builderType&&(a=!0)}):a="object"===i(window.ET_Builder),t(document).ready(function(){var i=t(window).width(),e=[];t(".dp-dfg-container:not(.dp-dfg-empty)").each(function(n){var r=t(this),o="on"===r.attr("data-filters"),s="on"===r.attr("data-ajax-filters"),f="on"===r.attr("data-ajax-filters"),p="on"===r.attr("data-pagination"),l="on"===r.attr("data-search"),g="on"===r.attr("data-sorting"),c="on"===r.attr("data-url-navigation"),h=void 0!==r.attr("data-url-history")&&"on"===r.attr("data-url-history").split("|")[0],v=void 0!==r.attr("data-url-history")?r.attr("data-url-history").split("|")[1]:"",u="on"===r.attr("data-cache"),m=void 0!==r.attr("data-multilevel")?r.attr("data-multilevel").split("|"):["off","AND","off"],y="on"===m[0],w=m[1],b=m[2],C=void 0!==r.attr("data-multifilter")?r.attr("data-multifilter").split("|"):["off","OR"],_="on"===C[0],x=C[1],k=r.attr("data-default-filter"),j=r.find(".dp-dfg-filters").hasClass("dp-dfg-filters-dropdown-layout")?"dropdown":"button",I=r.attr("data-found-posts"),S=r.attr("data-post-number"),D=!s&&!c&&(!p||parseInt(S)>=parseInt(I)||"-1"===S)&&"All"===k,E=r.attr("data-module"),O=r.find(".dp-dfg-search-input"),A=tt();function P(){if(!a&&"on"!==r.attr("data-doing-ajax")){if(r.attr("data-page",1),O.val().trim().length>1){O.removeClass("search-clean");var t=O.next(".dp-dfg-search-icon");t.text(t.attr("data-icon-clear")),O.hasClass("search-active")?(O.val("").addClass("search-clean").focus(),t.text(t.attr("data-icon-search"))):O.addClass("search-active")}else O.addClass("search-clean");U("search")}}function T(a,d,i){var e=!1;"dropdown"===j?(e=d.find('.dp-dfg-filters-dropdown[data-parent="'+a+'"]'),i?e.show():e.hide()):(e=d.find('.dp-dfg-level[data-parent="'+a+'"]'),i?r.hasClass("dp-dfg-skin-left-vertical-filters")?e.css({display:"block"}):e.css({display:"flex"}):e.css({display:"none"})),e&&e.find(".dp-dfg-filter-link.active").each(function(){t(this).removeClass("active");var a=t(this).attr("data-term-id");"dropdown"===j&&(e.find(".dp-dfg-dropdown-tag").remove(),e.find(".dp-dfg-dropdown-placeholder").show()),T(a,d,i)})}function R(a,i){if("on"===r.attr("data-doing-ajax"))return!1;var e=window[E],n=[],o="",s=[],f=a.children("a.dp-dfg-filter-link"),p=a.parents(".dp-dfg-level"),l=a.parents(".dp-dfg-filters");if("on"===b){var g=f.attr("data-term-id");if(f.hasClass("active"))T(g,l,0);else{var c=!1;(c="dropdown"===j?f.parents(".dp-dfg-filters-dropdown"):f.parents(".dp-dfg-level"))&&(c.find(".dp-dfg-filter-link.active").each(function(){t(this).removeClass("active"),T(t(this).attr("data-term-id"),l,0)}),T(g,l,1))}}if(_||y){if("all"===f.attr("data-term-id")){if(f.hasClass("active"))return!1;p.find(".dp-dfg-filter a.dp-dfg-filter-link.active").removeClass("active"),f.addClass("active")}else{_?f.hasClass("active")?f.removeClass("active"):f.addClass("active"):f.hasClass("active")?f.removeClass("active"):(p.find(".dp-dfg-filter a.dp-dfg-filter-link.active").removeClass("active"),f.addClass("active"));var h=p.find(".dp-dfg-filter a.dp-dfg-filter-link[data-term-id=all]");0===p.find(".dp-dfg-filter a.dp-dfg-filter-link.active").length?void 0!==h&&h.addClass("active"):void 0!==h&&h.removeClass("active")}r.find(".dp-dfg-level").each(function(){var a=[];t(this).find(".dp-dfg-filter a.dp-dfg-filter-link.active").each(function(){var d=t(this).attr("data-term-id");"all"!==d&&(n.push(d),a.push(d))}),a.length>0&&s.push(a)})}else if(f.hasClass("active")){f.removeClass("active");var v=p.find(".dp-dfg-filter a.dp-dfg-filter-link[data-term-id=all]");void 0!==v&&v.addClass("active")}else p.find(".dp-dfg-filter a.dp-dfg-filter-link.active").removeClass("active"),f.addClass("active"),n.push(f.attr("data-term-id"));if(""===(o=n.join("|"))&&(o="all"),r.attr("data-active-filter",o),"dropdown"===j){var u=a.parents(".dp-dfg-level");if(_&&l.find(".dp-dfg-filter-trigger-button").length||a.parents(".dp-dfg-filters-dropdown").hasClass("open")&&(a.parents(".dp-dfg-filters-dropdown").toggleClass("closed open"),u.slideUp()),"on"===r.attr("data-terms-tags")){var m=u.prev(".dp-dfg-dropdown-label"),C=f.attr("data-term-id"),k=m.find(".dp-dfg-dropdown-placeholder");if(f.hasClass("active")){var I='<span class="dp-dfg-dropdown-tag" data-id="'+C+'">'+f.text()+"</span>";_||m.find(".dp-dfg-dropdown-tag").remove(),"all"===f.attr("data-term-id")?(k.show(),m.find(".dp-dfg-dropdown-tag").remove()):(k.hide(),m.find(".dp-dfg-dropdown-tag[data-id="+C+"]").length||m.append(I))}else m.find(".dp-dfg-dropdown-tag[data-id="+C+"]").remove(),0===m.find(".dp-dfg-dropdown-tag").length&&k.show()}}i?D?function(t,a,i,e,n,r,o,s,f){var p=t.find(".dp-dfg-items"),l=p.find(".dp-dfg-item");t.find(".dp-dfg-no-results").remove();var g=!0;if("all"===a)l.length>0?(g=!1,at(l),l.fadeIn(),"dp-dfg-layout-masonry-standard"===f.props.items_layout&&l.parents(".dp-dfg-masonry-item").css({"margin-bottom":""})):g=!0;else{var c="",h=a.split("|");if(l.attr("data-position","off").hide(),"dp-dfg-layout-masonry-standard"===f.props.items_layout&&l.parents(".dp-dfg-masonry-item").css({"margin-bottom":"0"}),e||r){var v=[];s.forEach(function(t){var a=[];Array.isArray(t)&&t.length>0&&t.forEach(function(t){a.push(".dp-dfg-term-id-"+t)}),a.length>0&&v.push(a)});var u="";if(e&&!r)u="OR"===o?v[0].join(", "):v[0].join("");else if(!e&&r){var m=[];v.forEach(function(t){m.push(t.join(""))}),u="OR"===n?m.join(", "):m.join("")}else{var y=[];if(v.forEach(function(t){"OR"===o?y.push(t.join(", ")):y.push(t.join(""))}),"OR"===n)u=y.join(", ");else if("OR"===o){var w=[];y.forEach(function(t){w.push(t.split(", "))});var b=function t(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];i===a.length?e.push(n):a[i].forEach(function(r){return t(a,i+1,e,d(n).concat([r]))});return e}(w),C=[];b.forEach(function(t,a){C[a]=t.join("")}),u=w.length>0?C.join(", "):y.join("")}else u=y.join("")}var _=p.find(u);_.length>0&&(at(_),_.fadeIn(),"dp-dfg-layout-masonry-standard"===f.props.items_layout&&_.parents(".dp-dfg-masonry-item").css({"margin-bottom":""}),g=!1),t.attr("data-total-filtered",_.length)}else h.forEach(function(a){c=".dp-dfg-term-id-"+a;var d=p.find(c);d.length>0&&(at(d),d.fadeIn(),"dp-dfg-layout-masonry-standard"===f.props.items_layout&&d.parents(".dp-dfg-masonry-item").css({"margin-bottom":""}),g=!1),t.attr("data-total-filtered",d.length)})}g&&p.prepend(f.no_results);"dp-dfg-layout-masonry-standard"===f.props.items_layout&&X(t);t.trigger("dfg_after_jquery_filtering")}(r,o,0,_,w,y,x,s,e):function(t,a,d,i){t.attr("data-page",1),i?U("filter"):F(a,1)?W(a,1):U("filter")}(r,o,0,_):l.find(".dp-dfg-filter-trigger-button").removeClass("dp-dfg-filtering-done")}function L(t,a){var d=a.attr("data-parent"),i=a.find("a").attr("data-term-id");if(parseInt(d)){if("dropdown"===j){var e=t.find('.dp-dfg-filters-dropdown[data-parent="'+d+'"]');if(e.css({display:"block"}),"on"===t.attr("data-terms-tags")){var n='<span class="dp-dfg-dropdown-tag" data-id="'+i+'">'+a.text()+"</span>";e.find(".dp-dfg-dropdown-placeholder").hide(),e.find(".dp-dfg-dropdown-tag[data-id=".concat(i,"]")).length||e.find(".dp-dfg-dropdown-label").append(n)}}t.find('.dp-dfg-level[data-parent="'+d+'"]').css({display:"flex"});var r=t.find('.dp-dfg-filter-link[data-term-id="'+d+'"]').parents(".dp-dfg-filter");r.find("a").addClass("active"),L(t,r)}else if(t.find(".dp-dfg-filter[data-parent=all] > a").removeClass("active"),"dropdown"===j){var o=t.find('.dp-dfg-filters-dropdown[data-parent="'+d+'"]');if("on"===t.attr("data-terms-tags")){var s='<span class="dp-dfg-dropdown-tag" data-id="'+i+'">'+a.text()+"</span>";o.find(".dp-dfg-dropdown-placeholder").hide(),o.find(".dp-dfg-dropdown-label").append(s)}}}function q(t,a,d,i,e,n){var r=t+1,o=e+r+"/"+n;if("scroll"===i.pagination_type)r<=a&&d.find("a.dp-dfg-scroll-page-link").attr("href",o),t<a?d.find(".dp-dfg-ajax-scroll").addClass("active"):d.find(".dp-dfg-ajax-scroll").removeClass("active");else{var s=d.find("a.dp-dfg-load-more-button");r<=a&&s.attr("href",o),t<a?s.show():s.hide()}}function U(a){r.attr("data-doing-ajax","on");var d=r.find(".dp-dfg-items"),i=r.find(".dp-dfg-no-results"),e=parseInt(r.attr("data-page")),n=r.attr("data-active-filter"),o=r.find(".pagination"),s=o.find(".pagination-item:not(.dp-dfg-direction)"),c=o.find(".pagination-item.next-posts"),h=o.find(".pagination-item.previous-posts"),v=o.find(".pagination-item.dp-dfg-first-page"),m=o.find(".pagination-item.dp-dfg-last-page"),y=window[E],w=y.props,b=void 0,C="";w.query_context="ajax","all"!==n?(w.use_taxonomy_terms="on",w.active_filter=n):w.active_filter="",l&&void 0!==O&&(w.query_var.s=O.val().trim()),"search"!==a&&"sort"!==a||!D||(w.active_filter="",C=r.attr("data-active-filter")),r.attr("data-jquery-based-filters",C),g&&(w.order=r.attr("data-order"),w.orderby=r.attr("data-orderby")),t.ajax({type:"POST",url:dpdfg.ajaxurl,data:{action:"dpdfg_get_posts_data_action",page:e,module_data:w,vb:"off"},beforeSend:function(){d.children().css({opacity:.15}),r.find(".dp-dfg-filters").css({opacity:.15}),r.find(".dp-dfg-search").css({opacity:.15}),r.find(".dp-dfg-sorting").css({opacity:.15}),r.find(".dp-dfg-pagination").css({opacity:.15}),void 0!==y.loader&&""!==y.loader?d.append(y.loader):d.append(dpdfg.loader_html),r.trigger("dfg_before_ajax"),b=d.find(".dp-dfg-loader").first(),"load"===a||"scroll"===a||"paged"===a?b.css({top:"unset",bottom:"100px"}):b.css({top:"100px"}),"button"===w.pagination_type?r.find("a.dp-dfg-load-more-button").fadeOut("fast",function(){b.fadeIn("fast")}):b.fadeIn("fast")}}).done(function(n){var l;if(void 0!==i&&i.remove(),r.attr("data-page",e),void 0===n.no_results&&void 0===n.error){var g=parseInt(n.max_pages),y=n.posts;if("dp-dfg-layout-masonry-standard"===w.items_layout&&(y+='<div class="dp-dfg-masonry-gutter"></div>'),b.fadeOut("fast",function(){function i(){d.html("").append(y),e()}function e(){d.children().css({opacity:1}),r.attr("data-total-filtered",n.found_posts),setTimeout(function(){r.trigger("dfg_after_ajax",[n,a])},100),u&&setTimeout(function(){V()},500)}"paged"===a?"off"===r.attr("data-st")?i():t("html, body").animate({scrollTop:r.offset().top-200},100,"linear").promise().then(function(){i()}):"load"===a||"scroll"===a?(d.append(y),at(d.find(".dp-dfg-item")),e()):i(),t(this).remove()}),p&&g>1){var C=r.find(".dp-dfg-pagination").attr("data-base-url")+"page/",_=r.find(".dp-dfg-pagination").attr("data-url-args");if(o.removeClass("dp-dfg-hide"),"paged"===a)s.each(function(){var a=t(this).children("a").attr("data-page");e+parseInt(w.pagination_pages)>=a&&e-parseInt(w.pagination_pages)<=a?t(this).removeClass("dp-dfg-hide"):t(this).addClass("dp-dfg-hide")});else if("load"===a||"scroll"===a)q(e,g,r,w,C,_);else if("paged"===w.pagination_type){s.remove(),l="";for(var x=0;x<g;x++){var k="",j="",I=x+1;0===x&&(k=" active"),(x>e+parseInt(w.pagination_pages)||x<e-parseInt(w.pagination_pages))&&(j=" dp-dfg-hide"),l=l+'<li class="pagination-item'+k+j+'"><a href="'+C+I+"/"+_+'" data-page="'+I+'" class="pagination-link">'+I+"</li>"}}else q(e,g,r,w,C,_);if("paged"===w.pagination_type){if(1!==o.find(".pagination-item:not(.dp-dfg-direction)").length&&o.append(l),1===h.length){var S=e>1?e-1:1;h.children(".pagination-link").attr("data-page",S).attr("href",C+S+"/"+_),o.prepend(h)}if(1===c.length){var D=e<g?e+1:g;o.append(c),c.children(".pagination-link").attr("data-page",D).attr("href",C+D+"/"+_)}1===v.length&&h.before(v),1===m.length&&(m.children(".pagination-link").attr("data-page",g).attr("href",C+g+"/"+_),c.after(m)),1===e?(h.addClass("dp-dfg-hide"),v.addClass("dp-dfg-hide"),c.removeClass("dp-dfg-hide"),m.removeClass("dp-dfg-hide")):g===e?(h.removeClass("dp-dfg-hide"),v.removeClass("dp-dfg-hide"),c.addClass("dp-dfg-hide"),m.addClass("dp-dfg-hide")):(c.removeClass("dp-dfg-hide"),m.removeClass("dp-dfg-hide"),h.removeClass("dp-dfg-hide"),v.removeClass("dp-dfg-hide"))}}else r.find(".dp-dfg-ajax-scroll").removeClass("active"),o.addClass("dp-dfg-hide");f&&(r.find(".dp-dfg-sorting").removeClass("dp-dfg-hide"),r.find(".dp-dfg-pagination").removeClass("dp-dfg-hide"))}else r.attr("data-doing-ajax","off"),o.addClass("dp-dfg-hide"),d.html("").append(n.no_results),r.trigger("dfg_no_results",[n])}).fail(function(t,a,d){b.remove(),console.log(d)}).always(function(){r.find(".dp-dfg-filters").css({opacity:1}),r.find(".dp-dfg-search").css({opacity:1}),r.find(".dp-dfg-sorting").css({opacity:1}),r.find(".dp-dfg-pagination").css({opacity:1})})}function M(t){if(!a){var d={type:"image",removalDelay:500,mainClass:"mfp-fade dp-dfg-lightbox",gallery:{enabled:!0,navigateByImgClick:!0},callbacks:{beforeClose:function(){this.contentContainer.get(0).remove()}}},i=[],e=t.attr("data-images"),n=t.attr("data-content");for(var r in n=void 0!==n&&n.split("||"),e=e.split("||")){var o="";void 0!==n[r]&&""!==n[r]&&(o=B(n[r])),i.push({src:e[r],title:o})}d.items=i;var s={args:d,trigger:t};return t.trigger("dfg_open_custom_lightbox",s),!1}}function z(d,i){if(!a){var e,n={type:"image",removalDelay:500,mainClass:"mfp-fade dp-dfg-lightbox",callbacks:{beforeClose:function(){this.contentContainer.get(0).remove()}}},o=[],s=[],f=0,p=0;if(e=d.hasClass("dp-dfg-item")?d.attr("id"):d.parents("article").attr("id"),"lightbox_gallery"===i){var l=function(t){if(void 0!==t.attr("data-img")){d.hasClass("dp-dfg-item")?e===t.attr("id")&&(p=f):e===t.parents("article").attr("id")&&(p=f),f++,o.push(t.attr("data-img"));var a=t.attr("data-title");void 0!==a&&""!==a&&s.push(B(a))}};d.hasClass("dp-dfg-item")?r.find('.dp-dfg-item:not([data-position="off"])').each(function(){l(t(this))}):r.find('.dp-dfg-item:not([data-position="off"]) .dp-dfg-image-link.entry-thumb-lightbox').each(function(){l(t(this))}),n.gallery={enabled:!0,navigateByImgClick:!0}}else{o.push(d.attr("data-img"));var g=d.attr("data-title");void 0!==g&&""!==g&&s.push(B(g))}for(var c in o)o[c]={src:o[c],title:s[c]};n.items=o;var h={args:n,start_at:p,action:i,trigger:d};return d.trigger("dfg_open_lightbox",h),!1}}function B(a){var d="",i=JSON.parse(a);return d=t("<div/>").addClass("dp-dfg-lightbox-image-data"),i.length&&i.forEach(function(a){var i=t("<span/>").text(a);d.append(i)}),d}function N(d,i,e){var n=["mfp-fade","dp-dfg-popup","dp-dfg-lightbox"],r=window[E],o="";if(""!==r.props.popup_code&&(o="video"===e?"?popup_css="+r.props.popup_code:"&popup_css="+r.props.popup_code),n.push(E+"-popup"),"video"===e&&n.push("dp-dfg-video-popup"),d+=o,!a){var s,f={args:{type:"iframe",preloader:!0,fixedContentPos:!0,removalDelay:300,mainClass:n.join(" "),items:{src:d},callbacks:{beforeOpen:function(){var a="";t("body").hasClass("et_divi_builder")&&(a="<style>.dp-dfg-popup-modal .mfp-close { color: black !important; top: 1px; right: 8px; font-size: 3em; } iframe#dp-dfg-popup-modal-iframe { background-color: white; }.et-fb-loader-wrapper { position: absolute; left: 50%; top: 50%; margin: -50px auto auto -50px; background: #fff; width: 100px; height: 100px; border-radius: 100px; box-shadow: 0 5px 30px rgba(43, 135, 218, 0.15); animation: et-fb-loader-wrapper ease infinite 1.5s;} .et-fb-loader { position: absolute; left: 50%; top: 50%; margin: -6px auto auto -6px; width: 12px; height: 12px; border-radius: 12px; box-shadow: 0 -17px #7e3bd0, 17px 0 #7e3bd0, 0 17px #7e3bd0, -17px 0 #7e3bd0; animation: et-fb-loader ease infinite 3s; }</style>"),void 0!==r.loader&&""!==r.loader?this.preloader.html(a+r.loader):this.preloader.html(a+dpdfg.loader_html),s=this.preloader},open:function(){s.css({"z-index":1e4}).show(),this.content.find("#dp-dfg-popup-modal-iframe").on("load",function(){s.hide()})},beforeClose:function(){this.contentContainer.get(0).remove()}},iframe:{markup:'<div class="mfp-iframe-scaler dp-dfg-popup-modal"><div class="mfp-close"></div><iframe id="dp-dfg-popup-modal-iframe" class="mfp-iframe" allowfullscreen></iframe></div>'}},post_ajax_url:d,trigger:i};return i.trigger("dfg_open_popup",f),!1}}function V(){var t=r.attr("data-number"),a=r.find(".dp-dfg-filter a.active").attr("data-term-id");void 0===a&&(a="all");var d=r.find(".dp-dfg-items"),i=r.find(".pagination, .dp-dfg-pagination"),n=1;0!==i.length&&(n="0"===r.attr("data-page")?1:r.attr("data-page")),void 0!==e[t]&&void 0!==e[t][a]&&void 0!==e[t][a][n]&&(e[t][a][n].posts=d.html(),e[t][a][n].pages=i.html())}function W(a,d){var i=r.attr("data-number"),n=r.find(".dp-dfg-items"),o=r.find(".pagination, .dp-dfg-pagination");void 0===a&&(a="all"),void 0!==d&&0!==d||(d=1),void 0!==e[i][a][d]&&(n.fadeOut("slow",function(){var n=e[i][a][d].posts;void 0!==n&&t(this).html(n).fadeIn()}),0!==o.lenght&&o.fadeOut("slow",function(){var n=e[i][a][d].pages;void 0!==n&&t(this).html(n).fadeIn()}),t("html, body").animate({scrollTop:r.offset().top-200},200,"linear"))}function F(t,a){if(u){void 0===t&&(t="all"),void 0!==a&&0!==a||(a=1);var d=r.attr("data-number");return void 0!==e[d]&&void 0!==e[d][t]&&void 0!==e[d][t][a]&&"posts"in e[d][t][a]}return!1}if(g&&(r.on("click",".dp-dfg-sort-order",function(){a||("ASC"===r.attr("data-order")?r.attr("data-order","DESC"):r.attr("data-order","ASC"),r.attr("data-page",1),U("sort"))}),r.on("click",".dp-dfg-sort-option",function(){t(this).parents(".dp-dfg-filters-dropdown").hasClass("open")&&(t(this).parents(".dp-dfg-filters-dropdown").toggleClass("closed open"),t(this).parents("ul").slideUp());var d=t(this).parents(".dp-dfg-filters-dropdown"),i=d.find(".dp-dfg-dropdown-placeholder"),e=i.attr("data-text");if(!t(this).hasClass("active")){d.find(".dp-dfg-sort-option.active").removeClass("active"),t(this).addClass("active");var n=t(this).attr("data-value"),o=r.attr("data-initorderby");"default"!==n?r.attr("data-orderby",n):r.attr("data-orderby",o),i.text(e+t(this).text()),a||(r.attr("data-page",1),U("sort"))}})),l&&(O.on("keyup",function(t){var a=O.next(".dp-dfg-search-icon");O.hasClass("search-active")&&(a.text(a.attr("data-icon-search")),O.removeClass("search-active")),(13===t.keyCode||13===t.which)&&O.val().trim().length>1&&P(),8!==t.keyCode&&8!==t.which&&46!==t.keyCode&&46!==t.which||0!==O.val().trim().length||(O.removeClass("search-active"),O.hasClass("search-clean")||a.click())}),r.find(".dp-dfg-search-icon").click(function(){P()})),o&&(r.on("click",".dp-dfg-level > .dp-dfg-filter",function(d){d.preventDefault();var i=r.attr("data-filter-method");if(!a)switch(i){case"button":R(t(this),!1);break;case"last_level":if("on"===b){var e=t(this).find(".dp-dfg-filter-link").attr("data-term-id"),n=0;n="dropdown"===j?r.find('.dp-dfg-filters-dropdown[data-parent="'+e+'"]').length:r.find('.dp-dfg-level[data-parent="'+e+'"]').length,R(t(this),!n)}else R(t(this),!0);break;case"default":default:R(t(this),!0)}}),r.on("click",".dp-dfg-filter-trigger-button",function(a){if(a.preventDefault(),!t(this).hasClass("dp-dfg-filtering-done")){"dropdown"===j&&r.find(".dp-dfg-filters-dropdown.open").each(function(){t(this).toggleClass("closed open").children(".dp-dfg-level").slideUp()});var d=r.find(".dp-dfg-filter-link.active");if(d.length>0){var i=d.last();i.removeClass("active"),R(i.parents(".dp-dfg-filter"),!0),t(this).addClass("dp-dfg-filtering-done")}}}),r.on("click",".dp-dfg-clear-filters-button",function(a){a.preventDefault();var d=r.find(".dp-dfg-filters");"on"===b&&d.find('.dp-dfg-level:not([data-parent="0"])').hide();var i=d.find('.dp-dfg-filter-link.active:not([data-term-id="all"])');if(i.length>0){i.removeClass("active");var e=d.find('.dp-dfg-filter-link[data-term-id="all"]:not(.active)');if(e.length>0){var n=e.length;e.each(function(){n>1?t(this).addClass("active"):R(t(this).parents(".dp-dfg-filter"),!0),n--})}else i.last().addClass("active"),R(i.last().parents(".dp-dfg-filter"),j);"dropdown"===j&&d.find(".dp-dfg-filters-dropdown").each(function(){t(this).find(".dp-dfg-dropdown-tag").remove(),t(this).find(".dp-dfg-dropdown-placeholder").show()})}}),r.on("click",".dp-dfg-dropdown-label",function(){var a=t(this).parents(".dp-dfg-filters-dropdown");a.hasClass("closed")?(t(this).next().slideDown(),t(".dp-dfg-filters-dropdown.open").toggleClass("closed open").find(".dp-dfg-level").slideUp()):t(this).next().slideUp(),a.toggleClass("closed open")}),r.on("click",".dp-dfg-dropdown-tag",function(a){a.stopPropagation();var d=t(this).attr("data-id");t(this).parents(".dp-dfg-dropdown-label").next(".dp-dfg-level").find(".dp-dfg-filter-link[data-term-id="+d+"]").click()})),p&&(r.on("click",".pagination-item .pagination-link",function(d){if(d.preventDefault(),!a){var i=t(this);if(!i.parent(".pagination-item").hasClass("active")){var e=i.attr("data-page");if("on"===r.attr("data-doing-ajax"))return!1;if("sfp"===r.attr("data-third-party")){if(i.hasClass("dp-dfg-page"))return!1;i.parents(".dp-dfg-pagination").find('.dp-dfg-page[data-page="'+e+'"]').click()}else{r.find(".pagination-item.active").removeClass("active"),r.find('.pagination-link[data-page="'+e+'"]').parent(".pagination-item:not(.dp-dfg-direction)").addClass("active"),r.attr("data-page",e);var n=r.find(".dp-dfg-filter a.active").attr("data-term-id");F(n,e)?W(n,e):U("paged")}}}}),r.on("click","a.dp-dfg-load-more-button",function(t){if(t.preventDefault(),!a){if("on"===r.attr("data-doing-ajax"))return!1;var d=parseInt(r.attr("data-page"));r.attr("data-page",d+1),U("load")}}),t(window).on("scroll",function(){if(!a){var d=t(window).scrollTop()+t(window).height();r.find(".dp-dfg-ajax-scroll.active").each(function(){var a=t(this).offset().top;if(d>a+60){if("on"===r.attr("data-doing-ajax"))return!1;var i=parseInt(r.attr("data-page"));r.attr("data-page",i+1),U("scroll")}})}})),r.on("click",".dp-dfg-item",function(a){var d,i=a.target;if(!t(i).is("a")&&!t(i).is("a *")){var e=t(this),n=e.attr("data-action"),o=e.attr("data-action-priority");if(void 0===n&&(n=r.attr("data-action")),"none"!==n)if("video"===o)e.find(".dp-dfg-video-overlay").click();else{var s="on"===r.attr("data-show-thumb")&&1===e.find(".dp-dfg-image-link").length;switch(n){case"link":d=s?e.find(".dp-dfg-image-link").attr("href"):e.attr("data-link"),"on"===e.attr("data-new-tab")?window.open(d):window.location=d;break;case"popup":N(s?e.find(".dp-dfg-image-link").attr("data-ajax-url"):e.attr("data-ajax-url"),e,"post");break;case"lightbox":case"lightbox_gallery":s?z(e.find(".dp-dfg-image-link"),n):void 0!==e.attr("data-img")&&z(e,n);break;case"gallery_cf":s?M(e.find(".dp-dfg-image-link")):void 0!==e.attr("data-images")&&M(e)}e.trigger("dfg_click_action",{item:e,action:n})}}}),r.on("click",".dp-dfg-image-link",function(a){var d=t(this),i=d.parents(".dp-dfg-item").attr("data-action");(void 0===i&&(i=r.attr("data-action")),"none"!==i)&&(a.preventDefault(),a.stopPropagation(),d.hasClass("entry-thumb-popup")?N(d.attr("data-ajax-url"),d,"post"):d.hasClass("entry-thumb-lightbox")?z(d,i):d.hasClass("entry-thumb-gallery-cf")?M(d):"on"===d.parents(".dp-dfg-item").attr("data-new-tab")?window.open(d.attr("href")):window.location=d.attr("href"))}),r.on("click","a.dp-dfg-action-button",function(a){a.preventDefault(),t(this).parents(".dp-dfg-item").click()}),r.on("click",".dp-dfg-image.entry-video",function(t){t.preventDefault(),t.stopPropagation()}),r.on("click",".dp-dfg-video-overlay",function(a){var d=t(this),i=d.parents(".dp-dfg-item"),e=i.attr("data-video-url"),n=i.attr("data-video-action");if(a.preventDefault(),a.stopPropagation(),"play"===n){var r=d.parents(".dp-dfg-image.entry-video").find("video");if(void 0!==r[0])r[0].play(),r.on("play",function(){d.addClass("dp-dfg-video-playing")});else{var o=d.parents(".dp-dfg-image.entry-video").find("iframe"),s=new URL(o.attr("src")),f=s.searchParams;f.set("autoplay","1"),s.search=f.toString();var p=s.toString();o.attr("src",p),d.addClass("dp-dfg-video-playing")}}else"popup"===n&&N(e,i,"video")}),u){r.attr("data-number",n);var G=["all"];r.find(".dp-dfg-filter a").each(function(){G.push(t(this).attr("data-term-id"))});var H=[];r.find(".pagination-item:not(.dp-dfg-direction) a").each(function(){H.push(t(this).attr("data-page"))}),0===H.length&&(H=[1]),e[n]=[],G.forEach(function(t){e[n][t]=[],H.forEach(function(a){e[n][t][a]=[]})}),r.hasClass("dp-dfg-skin-itemsinoverlay")?setTimeout(function(){V()},100):V()}function J(){var a,d=r.find(".dp-dfg-item"),i=r.attr("data-ratio"),e=d.find(".dp-dfg-image img").first();a=void 0===e?d.first().outerWidth(!1):e.width(),d.each(function(){var d=t(this).find(".dp-dfg-image img");void 0!==d&&(i=d.attr("data-ratio")),t(this).height(a*i)})}function Q(){var a=r.children(".dp-dfg-items"),d=parseInt(a.css("grid-row-gap")),i=r.hasClass("dp-dfg-skin-itemsinoverlay");a.css({gridAutoRows:"auto"}),a.css({alignItems:"self-start"}),a.children(".dp-dfg-item").each(function(){t(this).css({"-ms-grid-rows":"min-content"});var a=t(this).outerHeight(!0),e=Math.ceil(a%d);if(i){var n=a+e+"px";t(this).css({height:n}),t(this).find(".dp-dfg-image img").css({height:n})}var r="span "+Math.ceil((a+e)/d);t(this).css({gridRowEnd:r})}),a.removeAttr("style"),a.addClass("dp-dfg-masonry-ready"),a.trigger("dfg_masonry_ready")}function K(){r.find(".dp-dfg-items").find(".dp-dfg-media-video-wrapper").each(function(){var a=t(this).attr("data-ratio"),d=t(this).outerWidth()*a+"px";t(this).css({height:d})})}function X(t){var a=r.find(".dp-dfg-items");K();var d={gutter:".dp-dfg-masonry-gutter",itemSelector:".dp-dfg-masonry-item",percentPosition:!0};window.Masonry?(void 0!==a.data("masonry")?"ajax"===t?a.removeAttr("style").removeData("masonry").imagesLoaded(function(){a.masonry(d)}):"jquery"===t&&a.masonry("reloadItems").masonry("layout"):a.masonry(d),a.trigger("dfg_desandro_masonry_ready")):console.log("Divi FilterGrid: Desandro Masonry missing")}function Y(){r.find(".dp-dfg-item.has-post-video .dp-dfg-image").each(function(){t(this).find(".wp-video-shortcode").removeAttr("width").removeAttr("height"),t.fn.fitVids&&t(this).fitVids({customSelector:"iframe"})})}function Z(){r.find("video").each(function(){var a=t(this).attr("src");void 0!==a?(a=a.split("?")[0]+"#t=0.001",t(this).attr("src",a)):t(this).find("source").each(function(){a=t(this).attr("src").split("?")[0]+"#t=0.001",t(this).attr("src",a)})})}function $(){if("on"===r.attr("data-video-preview")&&r.hasClass("dp-dfg-layout-masonry-standard")){var a=r.find(".dp-dfg-items");a.find("video").each(function(){t(this).on("loadeddata",function(){a.masonry("reloadItems").masonry("layout")})})}}function tt(){return[r.attr("data-page"),"all"!==r.attr("data-active-filter")?r.attr("data-active-filter"):"","".concat(r.attr("data-order"),"|").concat(r.attr("data-orderby")),void 0!==O?O.val():""]}function at(a){var d=0;a.each(function(){t(this).attr("data-position",d),d++})}function dt(){t(this).width()!==i&&(i=t(this).width(),r.hasClass("dp-dfg-skin-itemsinoverlay")&&J(),r.hasClass("dp-dfg-layout-masonry")&&r.imagesLoaded(function(){Q()}),r.hasClass("dp-dfg-layout-masonry-standard")&&K())}c&&h&&window.addEventListener("popstate",function(t){var a=A;null!==t.state&&(a=t.state.dpDfgState),function(t){r.attr("data-page",t[0]),r.attr("data-active-filter",""===t[1]?"all":t[1]),r.attr("data-order",t[2].split("|")[0]),r.attr("data-orderby",t[2].split("|")[1])}(a),"ajax"===v?U("history"):window.location.reload()}),r.on("dfg_after_ajax",function(t,a,d){if(c&&h&&history.pushState){var i=new URLSearchParams(window.location.search),e=tt();p&&i.set("dfg_page",e[0]),o&&(""!==e[1]?i.set("dfg_filter",e[1]):i.delete("dfg_filter")),g&&i.set("dfg_sort",e[2]),l&&(""!==e[3]?i.set("dfg_s",e[3]):i.delete("dfg_s")),"history"!==d&&history.pushState({dpDfgState:e},"","?"+i.toString())}if(Y(),$(),Z(),r.hasClass("dp-dfg-skin-itemsinoverlay")&&setTimeout(function(){J()},10),r.hasClass("dp-dfg-layout-masonry")&&setTimeout(function(){Q()},10),r.hasClass("dp-dfg-layout-masonry-standard")&&setTimeout(function(){X("ajax")},10),r.attr("data-doing-ajax","off"),""!==r.attr("data-jquery-based-filters")){var n=r.attr("data-jquery-based-filters").split("|");r.find(".dp-dfg-filter-link[data-term-id="+n[n.length-1]+"]").removeClass("active").click()}}),a||(r.trigger("dfg_before_init",{module:r}),o&&function(){var t=r.attr("data-link-filter");if(void 0!==t&&""!==t){var a=t.split("|");if(a.length>0){var d=0;a.forEach(function(t){var i=r.find('.dp-dfg-filter-link[data-term-id="'+t+'"]').parents(".dp-dfg-filter");d++,1===i.length&&("on"===b&&L(r,i),d===a.length?R(i,!0):R(i,!1))}),r.attr("data-active-filter",t)}}}(),window.addEventListener("resize",dt),Y(),$(),Z(),r.hasClass("dp-dfg-skin-itemsinoverlay")&&J(),"function"===typeof imagesLoaded&&(r.hasClass("dp-dfg-layout-masonry")&&Q(),r.hasClass("dp-dfg-layout-masonry-standard")&&r.imagesLoaded(function(){X("init")})),r.on("dfg_open_lightbox",function(a,d){t.magnificPopup.open(d.args,d.start_at)}),r.on("dfg_open_popup",function(a,d){t.magnificPopup.open(d.args)}),r.on("dfg_open_custom_lightbox",function(a,d){t.magnificPopup.open(d.args)}),function(){if(y&&"on"===b&&"All"!==k){var t=r.find(".dp-dfg-filter-link[data-term-id=".concat(k,"]"));void 0!==t&&L(r,t.parent())}}(),r.find(".dp-dfg-dropdown-placeholder").each(function(){t(this).siblings("span").length>0&&t(this).hide()}))})})}(jQuery)}]);